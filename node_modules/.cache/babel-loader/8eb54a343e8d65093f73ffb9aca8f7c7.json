{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"C:/Users/User/Documents/React--Work/Portal-Tech/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _createForOfIteratorHelper from\"C:/Users/User/Documents/React--Work/Portal-Tech/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:/Users/User/Documents/React--Work/Portal-Tech/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/User/Documents/React--Work/Portal-Tech/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/User/Documents/React--Work/Portal-Tech/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/User/Documents/React--Work/Portal-Tech/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import styles from'./RequestForm.module.css';import Container from'../../../hoc/Container/Container';import axios from'../../../axios-orders';import $ from'jquery';var RequestForm=/*#__PURE__*/function(_Component){_inherits(RequestForm,_Component);var _super=_createSuper(RequestForm);function RequestForm(props){var _this;_classCallCheck(this,RequestForm);_this=_super.call(this,props);_this.clearForms=function(event){_this.setState({name:'',company:'',phone:'',developer:''});var _iterator=_createForOfIteratorHelper($('form')),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var form=_step.value;form.reset();}}catch(err){_iterator.e(err);}finally{_iterator.f();}};_this.sendCompanyFormData=function(event){var request={name:_this.state.name,company:_this.state.company,tel:_this.state.phone};axios.post('/requestCompany/'+request.company.replace(/\\s+/g,'-').toLowerCase()+'.json',request).catch(function(error){return console.log(error),alert('Возникла ошибка по отправке заявки!');});event.preventDefault();_this.clearForms();alert('Заявка успешно отправлена!');};_this.sendDevFormData=function(event){var request={name:_this.state.name,company:_this.state.developer,tel:_this.state.phone};axios.post('/requestDev/'+request.company.replace(/\\s+/g,'-').toLowerCase()+'.json',request).catch(function(error){return console.log(error),alert('Возникла ошибка по отправке заявки!');});event.preventDefault();_this.clearForms();alert('Заявка успешно отправлена!');};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state={name:'',company:'',phone:'',developer:''};_this.formRef=null;return _this;}_createClass(RequestForm,[{key:\"render\",value:function render(){if(this.props.formType=='company'){return/*#__PURE__*/_jsx(\"div\",{className:styles.RequestForm,style:{backgroundImage:this.props.bgimage},children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.InnerContainer,children:[/*#__PURE__*/_jsx(\"p\",{children:this.props.text}),/*#__PURE__*/_jsxs(\"form\",{method:\"get\",onSubmit:this.sendCompanyFormData,children:[/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.value,name:\"name\",id:\"name\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",onChange:this.handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.value,name:\"company\",id:\"company\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430/\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\",onChange:this.handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.value,name:\"phone\",id:\"phone\",placeholder:\"\\u0412\\u0430\\u0448 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",onChange:this.handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:styles.Submit})})]})]})})});}else if(this.props.formType=='dev'){return/*#__PURE__*/_jsx(\"div\",{className:styles.RequestForm,style:{backgroundImage:this.props.bgimage},children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.InnerContainer,children:[/*#__PURE__*/_jsx(\"p\",{children:this.props.text}),/*#__PURE__*/_jsxs(\"form\",{method:\"get\",onSubmit:this.sendDevFormData,children:[/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.value,name:\"name\",id:\"name\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",onChange:this.handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.value,name:\"developer\",id:\"company\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430/\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\",onChange:this.handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.value,name:\"phone\",id:\"phone\",placeholder:\"\\u0412\\u0430\\u0448 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",onChange:this.handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:styles.Submit})})]})]})})});}else{return null;}}}]);return RequestForm;}(Component);;export default RequestForm;","map":{"version":3,"sources":["C:/Users/User/Documents/React--Work/Portal-Tech/src/components/Requests/RequestForm/RequestForm.js"],"names":["React","Component","styles","Container","axios","$","RequestForm","props","clearForms","event","setState","name","company","phone","developer","form","reset","sendCompanyFormData","request","state","tel","post","replace","toLowerCase","catch","error","console","log","alert","preventDefault","sendDevFormData","handleChange","target","value","formRef","formType","backgroundImage","bgimage","InnerContainer","text","Submit"],"mappings":"skCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,GAEMC,CAAAA,W,0GAEF,qBAAYC,KAAZ,CAAmB,6CACf,uBAAMA,KAAN,EADe,MAWnBC,UAXmB,CAWN,SAACC,KAAD,CAAW,CACpB,MAAKC,QAAL,CAAc,CACVC,IAAI,CAAE,EADI,CAEVC,OAAO,CAAE,EAFC,CAGVC,KAAK,CAAE,EAHG,CAIVC,SAAS,CAAE,EAJD,CAAd,EADoB,yCAOHT,CAAC,CAAC,MAAD,CAPE,YAOpB,+CAA4B,IAAnBU,CAAAA,IAAmB,aACxBA,IAAI,CAACC,KAAL,GACH,CATmB,qDAUvB,CArBkB,OAuBnBC,mBAvBmB,CAuBG,SAACR,KAAD,CAAW,CAC7B,GAAMS,CAAAA,OAAO,CAAG,CACZP,IAAI,CAAE,MAAKQ,KAAL,CAAWR,IADL,CAEZC,OAAO,CAAE,MAAKO,KAAL,CAAWP,OAFR,CAGZQ,GAAG,CAAE,MAAKD,KAAL,CAAWN,KAHJ,CAAhB,CAKAT,KAAK,CAACiB,IAAN,CAAW,mBAAqBH,OAAO,CAACN,OAAR,CAAgBU,OAAhB,CAAwB,MAAxB,CAAgC,GAAhC,EAAqCC,WAArC,EAArB,CAA0E,OAArF,CAA8FL,OAA9F,EACCM,KADD,CACO,SAAAC,KAAK,QAAKC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAoBG,KAAK,CAAC,qCAAD,CAA9B,EADZ,EAGAnB,KAAK,CAACoB,cAAN,GACA,MAAKrB,UAAL,GACAoB,KAAK,CAAC,4BAAD,CAAL,CACH,CAnCkB,OAqCnBE,eArCmB,CAqCD,SAACrB,KAAD,CAAW,CACzB,GAAMS,CAAAA,OAAO,CAAG,CACZP,IAAI,CAAE,MAAKQ,KAAL,CAAWR,IADL,CAEZC,OAAO,CAAE,MAAKO,KAAL,CAAWL,SAFR,CAGZM,GAAG,CAAE,MAAKD,KAAL,CAAWN,KAHJ,CAAhB,CAKAT,KAAK,CAACiB,IAAN,CAAW,eAAiBH,OAAO,CAACN,OAAR,CAAgBU,OAAhB,CAAwB,MAAxB,CAAgC,GAAhC,EAAqCC,WAArC,EAAjB,CAAsE,OAAjF,CAA0FL,OAA1F,EACKM,KADL,CACW,SAAAC,KAAK,QAAKC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAoBG,KAAK,CAAC,qCAAD,CAA9B,EADhB,EAGAnB,KAAK,CAACoB,cAAN,GACA,MAAKrB,UAAL,GACAoB,KAAK,CAAC,4BAAD,CAAL,CACH,CAjDkB,OAmDnBG,YAnDmB,CAmDJ,SAACtB,KAAD,CAAW,CACtB,MAAKC,QAAL,oBAAgBD,KAAK,CAACuB,MAAN,CAAarB,IAA7B,CAAoCF,KAAK,CAACuB,MAAN,CAAaC,KAAjD,GACH,CArDkB,CAEf,MAAKd,KAAL,CAAa,CACTR,IAAI,CAAE,EADG,CAETC,OAAO,CAAE,EAFA,CAGTC,KAAK,CAAE,EAHE,CAITC,SAAS,CAAE,EAJF,CAAb,CAMA,MAAKoB,OAAL,CAAe,IAAf,CARe,aAShB,C,+DA8CO,CACN,GAAI,KAAK3B,KAAL,CAAW4B,QAAX,EAAuB,SAA3B,CAAsC,CAClC,mBACI,YAAK,SAAS,CAAEjC,MAAM,CAACI,WAAvB,CAAoC,KAAK,CAAE,CAAC8B,eAAe,CAAE,KAAK7B,KAAL,CAAW8B,OAA7B,CAA3C,uBACI,KAAC,SAAD,wBACI,aAAK,SAAS,CAAEnC,MAAM,CAACoC,cAAvB,wBACI,mBAAI,KAAK/B,KAAL,CAAWgC,IAAf,EADJ,cAEI,cAAM,MAAM,CAAC,KAAb,CAAmB,QAAQ,CAAE,KAAKtB,mBAAlC,wBACI,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKE,KAAL,CAAWc,KAArC,CAA4C,IAAI,CAAC,MAAjD,CAAwD,EAAE,CAAC,MAA3D,CAAkE,WAAW,CAAC,6CAA9E,CAAyF,QAAQ,CAAE,KAAKF,YAAxG,CAAsH,QAAQ,KAA9H,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKZ,KAAL,CAAWc,KAArC,CAA4C,IAAI,CAAC,SAAjD,CAA2D,EAAE,CAAC,SAA9D,CAAwE,WAAW,CAAC,8IAApF,CAAgH,QAAQ,CAAE,KAAKF,YAA/H,CAA6I,QAAQ,KAArJ,EADJ,EAJJ,cAOI,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKZ,KAAL,CAAWc,KAArC,CAA4C,IAAI,CAAC,OAAjD,CAAyD,EAAE,CAAC,OAA5D,CAAoE,WAAW,CAAC,oGAAhF,CAAqG,QAAQ,CAAE,KAAKF,YAApH,CAAkI,QAAQ,KAA1I,EADJ,EAPJ,cAUI,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAE7B,MAAM,CAACsC,MAAvC,EADJ,EAVJ,GAFJ,GADJ,EADJ,EADJ,CAuBH,CAxBD,IAyBK,IAAI,KAAKjC,KAAL,CAAW4B,QAAX,EAAuB,KAA3B,CAAkC,CACnC,mBACI,YAAK,SAAS,CAAEjC,MAAM,CAACI,WAAvB,CAAoC,KAAK,CAAE,CAAC8B,eAAe,CAAE,KAAK7B,KAAL,CAAW8B,OAA7B,CAA3C,uBACI,KAAC,SAAD,wBACI,aAAK,SAAS,CAAEnC,MAAM,CAACoC,cAAvB,wBACI,mBAAI,KAAK/B,KAAL,CAAWgC,IAAf,EADJ,cAEI,cAAM,MAAM,CAAC,KAAb,CAAmB,QAAQ,CAAE,KAAKT,eAAlC,wBACI,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKX,KAAL,CAAWc,KAArC,CAA4C,IAAI,CAAC,MAAjD,CAAwD,EAAE,CAAC,MAA3D,CAAkE,WAAW,CAAC,6CAA9E,CAAyF,QAAQ,CAAE,KAAKF,YAAxG,CAAsH,QAAQ,KAA9H,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKZ,KAAL,CAAWc,KAArC,CAA4C,IAAI,CAAC,WAAjD,CAA6D,EAAE,CAAC,SAAhE,CAA0E,WAAW,CAAC,8IAAtF,CAAkH,QAAQ,CAAE,KAAKF,YAAjI,CAA+I,QAAQ,KAAvJ,EADJ,EAJJ,cAOI,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKZ,KAAL,CAAWc,KAArC,CAA4C,IAAI,CAAC,OAAjD,CAAyD,EAAE,CAAC,OAA5D,CAAoE,WAAW,CAAC,oGAAhF,CAAqG,QAAQ,CAAE,KAAKF,YAApH,CAAkI,QAAQ,KAA1I,EADJ,EAPJ,cAUI,YAAK,SAAS,CAAC,MAAf,uBACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAE7B,MAAM,CAACsC,MAAvC,EADJ,EAVJ,GAFJ,GADJ,EADJ,EADJ,CAuBH,CAxBI,IAyBA,CACD,MAAO,KAAP,CACH,CACJ,C,yBA/GqBvC,S,EAgHzB,CAED,cAAeK,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport styles from './RequestForm.module.css';\r\nimport Container from '../../../hoc/Container/Container';\r\nimport axios from '../../../axios-orders';\r\nimport $ from 'jquery';\r\n\r\nclass RequestForm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            name: '',\r\n            company: '',\r\n            phone: '',  \r\n            developer: '',  \r\n        };\r\n        this.formRef = null\r\n      }\r\n\r\n    clearForms = (event) => {\r\n        this.setState({\r\n            name: '',\r\n            company: '',\r\n            phone: '',\r\n            developer: '',\r\n        })\r\n        for (let form of $('form')) {\r\n            form.reset()\r\n        }\r\n    }\r\n    \r\n    sendCompanyFormData = (event) => {\r\n        const request = {\r\n            name: this.state.name,\r\n            company: this.state.company,\r\n            tel: this.state.phone,\r\n        }\r\n        axios.post('/requestCompany/' + request.company.replace(/\\s+/g, '-').toLowerCase() + '.json', request)\r\n        .catch(error => (console.log(error), alert('Возникла ошибка по отправке заявки!')));\r\n\r\n        event.preventDefault();\r\n        this.clearForms();\r\n        alert('Заявка успешно отправлена!')\r\n    }\r\n    \r\n    sendDevFormData = (event) => {\r\n        const request = {\r\n            name: this.state.name,\r\n            company: this.state.developer,\r\n            tel: this.state.phone,\r\n        }\r\n        axios.post('/requestDev/' + request.company.replace(/\\s+/g, '-').toLowerCase() + '.json', request)\r\n            .catch(error => (console.log(error), alert('Возникла ошибка по отправке заявки!')));\r\n\r\n        event.preventDefault();\r\n        this.clearForms();\r\n        alert('Заявка успешно отправлена!')\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value});\r\n    }\r\n\r\n    render () {\r\n        if (this.props.formType == 'company') {\r\n            return (\r\n                <div className={styles.RequestForm} style={{backgroundImage: this.props.bgimage}}>\r\n                    <Container>\r\n                        <div className={styles.InnerContainer}>\r\n                            <p>{this.props.text}</p>\r\n                            <form method='get' onSubmit={this.sendCompanyFormData}>\r\n                                <div className='Form'>\r\n                                    <input type='text' value={this.state.value} name='name' id='name' placeholder='Ваше имя' onChange={this.handleChange} required />\r\n                                </div>\r\n                                <div className='Form'>\r\n                                    <input type='text' value={this.state.value} name='company' id='company' placeholder=\"Название проекта/компании\" onChange={this.handleChange} required />\r\n                                </div>\r\n                                <div className='Form'>\r\n                                    <input type='text' value={this.state.value} name='phone' id='phone' placeholder=\"Ваш номер телефона\" onChange={this.handleChange} required />\r\n                                </div>\r\n                                <div className='Form'>\r\n                                    <input type='submit' className={styles.Submit} />\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </Container>\r\n                </div>\r\n            )\r\n        }\r\n        else if (this.props.formType == 'dev') {\r\n            return (\r\n                <div className={styles.RequestForm} style={{backgroundImage: this.props.bgimage}}>\r\n                    <Container>\r\n                        <div className={styles.InnerContainer}>\r\n                            <p>{this.props.text}</p>\r\n                            <form method='get' onSubmit={this.sendDevFormData}>\r\n                                <div className='Form'>\r\n                                    <input type='text' value={this.state.value} name='name' id='name' placeholder='Ваше имя' onChange={this.handleChange} required />\r\n                                </div>\r\n                                <div className='Form'>\r\n                                    <input type='text' value={this.state.value} name='developer' id='company' placeholder=\"Название проекта/компании\" onChange={this.handleChange} required />\r\n                                </div>\r\n                                <div className='Form'>\r\n                                    <input type='text' value={this.state.value} name='phone' id='phone' placeholder=\"Ваш номер телефона\" onChange={this.handleChange} required />\r\n                                </div>\r\n                                <div className='Form'>\r\n                                    <input type='submit' className={styles.Submit} />\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </Container>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            return null\r\n        }\r\n    }    \r\n};\r\n\r\nexport default RequestForm;"]},"metadata":{},"sourceType":"module"}